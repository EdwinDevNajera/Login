@model List<WISTML_FRAMEWORK_.Models.ViewModel.TablaUsuariosViewModel>
@{
	ViewBag.Title = "Tabla";
}

<h2>Tabla</h2>

@*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css">*@
<link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.3.0/css/responsive.bootstrap5.min.css">


<table id="example" class="table table-striped" style="width:100%">
	<thead>
		<tr>
			<th>id</th>
			<th>usuario</th>
			<th>email</th>
			<th>sexo</th>
			<th>idEstado</th>
			<th>fecha</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		@foreach (var oElemento in Model)
		{
			<tr>
				<td>@oElemento.id</td>
				<td>@oElemento.usuario</td>
				<td>@oElemento.email</td>
				<td>@oElemento.sexo</td>
				<td>@oElemento.nombre</td>
				<td>@oElemento.fecha</td>
				<td>
					<input onclick="document.location.href = '@Url.Content("~/Usuarios/Editar/" + oElemento.id)' " type="button" value="Editar" class="btn btn-default">
					<input onclick="jsBorrar(@oElemento.id);" type="button" value="Eliminar" class="btn btn-danger">
				</td>
			</tr>

		}
	</tbody>
	<tfoot>
		<tr>
			<th>id</th>
			<th>usuario</th>
			<th>email</th>
			<th>sexo</th>
			<th>idEstado</th>
			<th>fecha</th>
			<th></th>
		</tr>
	</tfoot>
</table>
@*<div class="row">
	<div class="col-lg-12">
		<table class="table table-bordered">
				<tr>
					<th>id</th>
					<th>usuario</th>
					<th>email</th>
					<th>sexo</th>
					<th>idEstado</th>
					<th>fecha</th>
					<th></th>
				</tr>
				@foreach (var oElemento in Model)
				{
					<tr>
						<td>@oElemento.id</td>
						<td>@oElemento.usuario</td>
						<td>@oElemento.email</td>
						<td>@oElemento.sexo</td>
						<td>@oElemento.idEstado</td>
						<td>@oElemento.fecha</td>
						<td>
							<input onclick="document.location.href = '@Url.Content("~/Usuarios/Editar/" + oElemento.id)' " type="button" value="Editar" class="btn btn-default">
							<input onclick="jsBorrar(@oElemento.id);" type="button" value="Eliminar" class="btn btn-danger">
						</td>
					</tr>

				}
		</table>
	</div>
</div>*@

	@section scripts{

		<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
		<script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
		<script src="https://cdn.datatables.net/responsive/2.3.0/js/dataTables.responsive.min.js"></script>
		<script src="https://cdn.datatables.net/responsive/2.3.0/js/responsive.bootstrap5.min.js"></script>
		<script>
			$(document).ready(function () {
				$('#example').DataTable({
					"responsive": true,
					"autoWidth": false,
					//"columns": [
					//	{ "data": "id"},
					//	{ "data": "usuario"},
					//	{ "data": "email"},
					//	{ "data": "sexo"},
					//	{ "data": "idestado"},
					//	{ "data": "fecha"},
					//	{ "defaultContent": "<button>editar</button>" }
					//]
				});
			});
		</script>
		<script>
		function jsBorrar(id) {
			if (confirm("Quieres eliminarlo?")) {

				url2 = "@Url.Content("~/Usuarios/Inactivo/")"+id;

					$.post(url2, function (data2) {
						if (data2 == "6") {
							document.location.href="@Url.Content("~/TablaUsuarios/Tabla/")"
						} 
					})
				}

			}
		</script>

	}

